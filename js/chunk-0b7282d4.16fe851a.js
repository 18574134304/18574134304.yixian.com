(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b7282d4"],{"0ba9":function(t,e,a){"use strict";a("7125")},3157:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"set-name"}},[a("nav-bar",{attrs:{title:"修改昵称"}}),a("div",{staticClass:"content"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.uname,expression:"uname"}],attrs:{type:"text",id:"uname",maxlength:"16"},domProps:{value:t.uname},on:{input:[function(e){e.target.composing||(t.uname=e.target.value)},t.handelInput],focus:t.handelFocus}}),a("p",{staticClass:"msg"},[t._v(" 以英文字母或汉字开头，限4-16个字符，一个汉字为2个字符(最多8个汉字) ")]),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:t.submit}},[t._v("确认")]),t.isLoading?a("loading",{attrs:{loadingType:2}}):t._e()],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("label",{attrs:{for:"uname"}},[t._v("用户名：")])])}],i=(a("b0c0"),a("a9e3"),a("d3b7"),a("ac1f"),a("3ca3"),a("5319"),a("1276"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),r=a("d968"),c=a("bf93"),o={components:{navBar:r["a"],Loading:c["a"]},data:function(){return{isLoading:!1,uname:"",flag:!0,name_flag:!0,timer:null,token:""}},methods:{handelInput:function(){if(this.uname=this.uname.replace(/\s+/g,""),this.uname){var t=this.uname.split(""),e=0,a=Number(t[0].charCodeAt());if(a>=65&&a<=90||a>=97&&a<=122||a>255){for(var n=0;n<=t.length-1;n++)e++,Number(t[n].charCodeAt())>255&&e++;if(e>=4&&e<=16)return this.name_flag=!0}this.name_flag=!1}},handelFocus:function(){this.flag&&(this.uname="",this.flag=!1,this.name_flag=!1)},submit:function(){var t=this;if(!this.timer){if(this.flag&&this.name_flag)return this.$router.back();this.name_flag?(this.isLoading=!0,this.timer=setTimeout(Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new URLSearchParams,a.append("userToken",t.token),a.append("name",t.uname),e.next=5,t.$http.post("/user/postChangeConsumerName",a);case 5:n=e.sent,s=n.data,t.timer=null,"000000"===s.messageStatus?(t.$toast("修改成功"),t.$store.state.name=t.uname,i=JSON.parse(localStorage.user),i.name=t.uname,localStorage.setItem("user",JSON.stringify(i)),t.$router.back()):t.$toast("失败",s.error);case 9:case"end":return e.stop()}}),e)}))),800)):this.$toast("昵称不符合规则")}}},created:function(){this.uname=this.$store.state.name,this.token=this.$store.state.token}},u=o,l=(a("0ba9"),a("2877")),f=Object(l["a"])(u,n,s,!1,null,"76a74a17",null);e["default"]=f.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("1d80"),s=a("5899"),i="["+s+"]",r=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),o=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(r,"")),2&t&&(a=a.replace(c,"")),a}};t.exports={start:o(1),end:o(2),trim:o(3)}},7125:function(t,e,a){},7156:function(t,e,a){var n=a("861d"),s=a("d2bb");t.exports=function(t,e,a){var i,r;return s&&"function"==typeof(i=e.constructor)&&i!==a&&n(r=i.prototype)&&r!==a.prototype&&s(t,r),t}},a9e3:function(t,e,a){"use strict";var n=a("83ab"),s=a("da84"),i=a("94ca"),r=a("6eeb"),c=a("5135"),o=a("c6b6"),u=a("7156"),l=a("c04e"),f=a("d039"),d=a("7c73"),p=a("241c").f,m=a("06cf").f,g=a("9bf2").f,h=a("58a8").trim,v="Number",b=s[v],_=b.prototype,N=o(d(_))==v,y=function(t){var e,a,n,s,i,r,c,o,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=h(u),e=u.charCodeAt(0),43===e||45===e){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+u}for(i=u.slice(2),r=i.length,c=0;c<r;c++)if(o=i.charCodeAt(c),o<48||o>s)return NaN;return parseInt(i,n)}return+u};if(i(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var C,I=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof I&&(N?f((function(){_.valueOf.call(a)})):o(a)!=v)?u(new b(y(e)),a,I):y(e)},S=n?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;S.length>E;E++)c(b,C=S[E])&&!c(I,C)&&g(I,C,m(b,C));I.prototype=_,_.constructor=I,r(s,v,I)}},bf93:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"loading"+t.loadingType},[1===t.loadingType?a("div",{staticClass:"spinner"},[a("div",{staticClass:"rect1"}),a("div",{staticClass:"rect2"}),a("div",{staticClass:"rect3"}),a("div",{staticClass:"rect4"}),a("div",{staticClass:"rect5"})]):2===t.loadingType?a("van-loading",{attrs:{color:"#fff",size:"40"}}):3===t.loadingType?a("div",{staticClass:"box"},[a("i",{staticClass:"icon"})]):4===t.loadingType?a("div",{staticClass:"pay-loading"},[a("div",{staticClass:"loader",class:t.paySuccess?"check":"loading"}),a("span",{class:{suc:t.paySuccess}},[t._v(" "+t._s(t.paySuccess?"支付成功":"支付中")+" "),t.paySuccess?t._e():a("i")])]):5===t.loadingType?a("div",{staticClass:"box"},[a("i",{staticClass:"icon"})]):t._e()],1)},s=[],i=(a("a9e3"),{props:{loadingType:{type:Number,default:1},paySuccess:{type:Boolean,default:!1}},name:"Loading",watch:{paySuccess:function(){console.log("ok")}}}),r=i,c=(a("f41f"),a("2877")),o=Object(c["a"])(r,n,s,!1,null,"25c8e68a",null);e["a"]=o.exports},ce92:function(t,e,a){},f41f:function(t,e,a){"use strict";a("ce92")}}]);