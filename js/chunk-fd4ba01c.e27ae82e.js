(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd4ba01c"],{"0187":function(e,t,r){"use strict";r("7692")},5319:function(e,t,r){"use strict";var a=r("d784"),n=r("825a"),s=r("7b0b"),i=r("50c4"),o=r("a691"),c=r("1d80"),u=r("8aa5"),l=r("14c3"),d=Math.max,p=Math.min,v=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};a("replace",2,(function(e,t,r,a){var g=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=a.REPLACE_KEEPS_$0,_=g?"$":"$0";return[function(r,a){var n=c(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,n,a):t.call(String(n),r,a)},function(e,a){if(!g&&b||"string"===typeof a&&-1===a.indexOf(_)){var s=r(t,e,this,a);if(s.done)return s.value}var c=n(e),v=String(this),m="function"===typeof a;m||(a=String(a));var f=c.global;if(f){var $=c.unicode;c.lastIndex=0}var k=[];while(1){var S=l(c,v);if(null===S)break;if(k.push(S),!f)break;var w=String(S[0]);""===w&&(c.lastIndex=u(v,i(c.lastIndex),$))}for(var C="",E=0,y=0;y<k.length;y++){S=k[y];for(var R=String(S[0]),I=d(p(o(S.index),v.length),0),P=[],U=1;U<S.length;U++)P.push(h(S[U]));var M=S.groups;if(m){var O=[R].concat(P,I,v);void 0!==M&&O.push(M);var T=String(a.apply(void 0,O))}else T=x(R,v,I,P,M,a);I>=E&&(C+=v.slice(E,I)+T,E=I+R.length)}return C+v.slice(E)}];function x(e,r,a,n,i,o){var c=a+e.length,u=n.length,l=f;return void 0!==i&&(i=s(i),l=m),t.call(o,l,(function(t,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,a);case"'":return r.slice(c);case"<":o=i[s.slice(1,-1)];break;default:var l=+s;if(0===l)return t;if(l>u){var d=v(l/10);return 0===d?t:d<=u?void 0===n[d-1]?s.charAt(1):n[d-1]+s.charAt(1):t}o=n[l-1]}return void 0===o?"":o}))}}))},7692:function(e,t,r){},"77fe":function(e,t,r){e.exports=r.p+"img/yixian.d481b25f.png"},7803:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"login"}},[e._m(0),r("div",{staticClass:"content"},[r("form",[r("div",{staticClass:"item"},[r("p",[e._v("手机号")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{id:"phone",type:"text",placeholder:"请输入手机号",maxlength:"11",oninput:"value=value.replace(/[^\\d]/g,'')"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e.flag?e._e():r("div",{staticClass:"item item-code"},[r("p",[e._v("验证码")]),r("div",{staticClass:"box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{id:"code",type:"text",placeholder:"6位验证码",maxlength:"6",oninput:"value=value.replace(/[^\\d]/g,'')"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),r("a",{attrs:{href:"javascript:void(0);"},on:{click:e.sendCode}},[e._v(e._s(e.sendMsg))])])]),e.flag?r("div",{staticClass:"item"},[r("p",[e._v("密码")]),r("input",{attrs:{id:"password",type:"password",placeholder:"请输入密码"}})]):e._e(),r("div",{staticClass:"msg"},[r("router-link",{staticClass:"toggle",attrs:{to:"/login",replace:""}},[e._v("立即登录")]),e._m(1)],1),r("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:e.submit}},[e._v("注册")])])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:r("77fe")}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v("注册即同意佚鲜"),r("a",{attrs:{href:"javascript:void(0);"}},[e._v("注册用户协议")])])}],s=(r("d3b7"),r("ac1f"),r("3ca3"),r("5319"),r("ddb0"),r("2b3d"),r("96cf"),r("1da1")),i={data:function(){return{flag:!1,phone:"",code:"",sms:"",sendFlag:!0,sendMsg:"获取验证码",time:60,timer:null}},methods:{send:function(){var e=this;this.sendFlag=!1,this.sendMsg=this.time+"秒后重新获取",this.timer=setInterval((function(){e.time?(e.time-=1,e.sendMsg=e.time+"秒后重新获取"):(e.sendFlag=!0,e.sendMsg="获取验证码",e.time=60,clearInterval(e.timer))}),1e3)},sendCode:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(/^1[3456789]\d{9}$/.test(e.phone)){t.next=2;break}return t.abrupt("return",e.$toast("请输入11位合法手机号"));case 2:if(!e.sendFlag){t.next=11;break}return e.send(),r=new URLSearchParams,r.append("phone",e.phone),t.next=8,e.$http.post("/user/postRegisterConsumerBySendSmsByUseOther",r);case 8:a=t.sent,n=a.data,n&&"000000"===n.messageStatus?(e.$toast("验证码发送成功"),e.sms=n.sms):e.$toast("发送频繁");case 11:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(/^1[3456789]\d{9}$/.test(e.phone)){t.next=2;break}return t.abrupt("return",e.$toast("手机号不正确"));case 2:if(!e.sms){t.next=5;break}if(e.sms==e.code){t.next=5;break}return t.abrupt("return",e.$toast("验证码错误"));case 5:return r=new URLSearchParams,r.append("phone",e.phone),r.append("sms",e.code),t.next=10,e.$http.post("/user/postRegisterConsumerByHaveSmsByUseOther",r);case 10:a=t.sent,n=a.data,n&&"000000"===n.messageStatus?(localStorage.setItem("token",n.userToken),s={name:n.consumerName,phone:e.phone,avatar:n.consumerPath,token:n.userToken},localStorage.setItem("token",n.userToken),localStorage.setItem("user",JSON.stringify(s)),e.$store.commit("set_User_info",s),e.$router.replace("/home")):e.$toast(n.error);case 13:case"end":return t.stop()}}),t)})))()}},created:function(){}},o=i,c=(r("0187"),r("2877")),u=Object(c["a"])(o,a,n,!1,null,"5ff87a23",null);t["default"]=u.exports}}]);